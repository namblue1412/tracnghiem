<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UMP NHN</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="loginScreen" class="login-screen">
    <div class="card pad auth-card">
      <h2 class="mt0">ƒêƒÉng nh·∫≠p</h2>
      <p class="muted">
        IB FB: <b>Nguy·ªÖn Huy Nam</b> ƒë·ªÉ mua t√†i kho·∫£n <br>
        Ho·∫∑c s·ªë ƒëi·ªán tho·∫°i: <b>0908250604</b>
      </p>
      <form id="authForm">
        <label>T√†i kho·∫£n
          <input type="text" id="authUser" required placeholder="vd: namblue1412" />
        </label>
        <label>M·∫≠t kh·∫©u
          <input type="password" id="authPassword" required minlength="4" placeholder="M·∫≠t kh·∫©u" />
        </label>
        <div class="btn-row">
          <button type="button" id="btnLogin" class="btn">ƒêƒÉng nh·∫≠p</button>
        </div>
      </form>
    </div>
  </div>


  <div id="appShell" class="hide">

    <header class="header">
      <div class="wrap bar">
        <div class="grow">
          <h1>Thi th·ª≠ 3A/3B</h1>
          <div class="muted"></div>
        </div>
        <div class="pill" id="headerInfo">Ch∆∞a t·∫£i ƒë·ªÅ</div>
        <button class="help-icon" id="btnHelp" title="H∆∞·ªõng d·∫´n" aria-label="H∆∞·ªõng d·∫´n">‚ùì</button>
        <div class="pill">‚è± <span class="timer" id="headerTimer">00:00</span></div>
       
        <button class="btn small ghost" id="themeToggle" title="Chuy·ªÉn giao di·ªán">üåô T·ªëi</button>
        
        <div id="authArea" class="auth-area"></div>
      </div>
    </header>

    <main class="wrap">
     
      <section class="card pad" id="loader">
        <div class="grid-2">
          <div>
            <h2 class="mt0">1) Import ƒë·ªÅ (JSON)</h2>
            <div class="uploader">
              <label class="btn" for="fileInput">üìÑ Ch·ªçn file JSON</label>
              <input id="fileInput" type="file" accept="application/json" />
              <div class="drop" id="drop">K√©o & th·∫£ file JSON v√†o ƒë√¢y</div>
              <div class="muted mt6">Ho·∫∑c d√°n n·ªôi dung JSON:</div>
              <textarea id="paste" placeholder='{"meta":{"title":"D∆∞·ª£c l√Ω ‚Äì ƒê·ªÅ 01"},"questions":[...]}'></textarea>
              <div class="btn-row">
                <button class="btn" id="btnParse">üì• N·∫°p t·ª´ v√πng d√°n</button>
                <button class="btn ghost" id="btnTemplate">üì¶ T·∫£i template JSON</button>
                <button class="btn ghost" id="btnSample">‚ú® N·∫°p ƒë·ªÅ m·∫´u</button>
              </div>
            </div>
          </div>
          <div>
            <h2 class="mt0">2) Thi·∫øt l·∫≠p</h2>
            <label>Th·ªùi gian (ph√∫t) ‚Äî ƒë·ªÉ tr·ªëng ƒë·ªÉ l·∫•y t·ª´ file
              <input type="number" id="minutes" min="1" step="1" placeholder="VD: 15" />
            </label>
            <div class="grid-2 mt8">
              <label>Tr·ªôn th·ª© t·ª± c√¢u h·ªèi
                <select id="shuffleQ">
                  <option value="file">Theo file</option>
                  <option value="yes">Lu√¥n tr·ªôn</option>
                  <option value="no">Kh√¥ng tr·ªôn</option>
                </select>
              </label>
              <label>Tr·ªôn th·ª© t·ª± ƒë√°p √°n
                <select id="shuffleO">
                  <option value="file">Theo file</option>
                  <option value="yes">Lu√¥n tr·ªôn</option>
                  <option value="no">Kh√¥ng tr·ªôn</option>
                </select>
              </label>
            </div>
            <div class="muted mt8">Format JSON c·ªë ƒë·ªãnh ·ªü popup <b>‚ùì H∆∞·ªõng d·∫´n</b>.</div>
            <div class="btn-row mt10">
              <button class="btn" id="btnStart" disabled>üöÄ B·∫Øt ƒë·∫ßu l√†m b√†i</button>
              <button class="btn ghost" id="btnReset" disabled>‚Ü∫ L√†m l·∫°i / ƒë·ªïi ƒë·ªÅ</button>
            </div>
          </div>
        </div>
      </section>

     
      <section id="quizPanel" class="two hide">
       
        <div class="qview">
          <div class="card pad" id="qCard">
            <div class="qtitle" id="qTitle">C√¢u 1</div>
            <div class="muted" id="qMeta">‚Äî</div>
            <div class="qtext mt8" id="qText"></div>
            <div id="qImage" class="mt8 mb2"></div>
            <div class="opts mt8" id="qOpts"></div>
            <div class="exp" id="qExp"></div>
          </div>
        </div>

       
        <aside class="side">
          <div class="section">
            <div class="pad">
              <div class="bar spaced">
                <div class="pill">‚è± <span class="timer" id="bigTimer">00:00</span></div>
                <div class="pill hide" id="scorePill">ƒêi·ªÉm: 0/0 (0%)</div>
              </div>
              <div id="sideMeta" class="muted">0/0 c√¢u</div>
              <div class="progress" aria-label="Ti·∫øn ƒë·ªô"><span id="bar"></span></div>
              <div class="chips" id="filterGroup">
                <button class="chip active" data-filter="all">T·∫•t c·∫£</button>
                <button class="chip" data-filter="answered">ƒê√£ l√†m</button>
                <button class="chip" data-filter="unanswered">Ch∆∞a l√†m</button>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="pad space-between">
              <b>Danh s√°ch c√¢u & ch·ªçn nhanh</b>
              <div class="legend"><span>Single: tr√≤n</span><span>Multi: vu√¥ng</span></div>
            </div>
            <div class="matrix" id="qMatrix"></div>
          </div>

          <div class="section">
            <div class="pad btn-row">
              <button class="btn" id="btnPrev">‚Üê Tr∆∞·ªõc</button>
              <button class="btn" id="btnNext">Ti·∫øp ‚Üí</button>
              <button class="btn" id="btnSubmit">üì§ N·ªôp b√†i</button>
              <button class="btn" id="btnReview">üîç Xem/·∫©n gi·∫£i th√≠ch</button>
              <button class="btn" id="btnShuffle">üîÄ X√°o l·∫°i</button>
              <button class="btn" id="btnRedo">‚Ü∫ L√†m l·∫°i ƒë·ªÅ</button>
              <button class="btn" id="btnNew">üì• L√†m ƒë·ªÅ m·ªõi</button>
            </div>
          </div>
        </aside>
      </section>

      
      <section id="resultPanel" class="hide">
        <div class="card pad" id="wrongList"></div>
      </section>
    </main>

   
    <div id="helpModal" class="modal-backdrop hide" aria-hidden="true" role="dialog" aria-labelledby="helpTitle">
      <div class="modal card">
        <div class="modal-header">
          <b id="helpTitle">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng & c√¢u l·ªánh m·∫´u</b>
          <button class="btn ghost" id="helpClose">‚úñ</button>
        </div>
        <div class="modal-body">
          <p class="muted">D√πng c√°c m·∫´u l·ªánh d∆∞·ªõi ƒë√¢y ƒë·ªÉ m√¨nh t·∫°o/chu·∫©n ho√° ƒë·ªÅ theo <b>TEMPLATE JSON c·ªë ƒë·ªãnh</b>.</p>
          <h3>1) TEMPLATE JSON</h3>
          <pre>{
  "meta": {"title":"T√äN ƒê·ªÄ","time_limit_sec":900,"shuffle_questions":true,
           "shuffle_options":true,"pass_mark":0.5,"version":"1.0"},
  "questions":[{"id":"DL001","type":"single","question":"...","options":["A","B","C","D"],
                "correct":[0],"explanation":"...","tags":["..."],"difficulty":"easy","image":null}]
}</pre>
          <h3>2) C√¢u l·ªánh nhanh</h3>
          <pre>H√£y t·∫°o file JSON theo TEMPLATE:
- M√¥n: D∆∞·ª£c l√Ω ‚Äì H·ªá giao c·∫£m, kh√°ng cholinergic
- S·ªë c√¢u: 50 (35 single, 15 multi)
- ƒê·ªô kh√≥: 50% easy, 40% medium, 10% hard
- time_limit_sec=2400, shuffle_questions=true, shuffle_options=true, pass_mark=0.6
- id DL001‚Ä¶DL050; m·ªói c√¢u c√≥ explanation ng·∫Øn; ch·ªâ tr·∫£ JSON h·ª£p l·ªá.</pre>
          <pre>T√¥i g·ª≠i danh s√°ch Q/A (A/B/C/D + ƒë√°p √°n ƒë√∫ng). H√£y CHUY·ªÇN th√†nh JSON TEMPLATE.
- Single n·∫øu 1 ƒë√°p √°n ƒë√∫ng; Multi n·∫øu >1
- Gi·ªØ nguy√™n c√¢u h·ªèi/ƒë√°p √°n, explanation ng·∫Øn
- id DL001‚Ä¶; difficulty=medium n·∫øu kh√¥ng suy ra</pre>
          <pre>T·∫°o ƒë·ªÅ LUY·ªÜN SAI t·ª´ JSON c≈© v·ªõi ids: [DL002, DL015, DL021,‚Ä¶]
- Gi·ªØ n·ªôi dung, ƒë·∫£o th·ª© t·ª± ƒë√°p √°n
- title = "Luy·ªán sai ‚Äì [t√™n c≈©]"; shuffle_options=true</pre>
          <p class="muted">L∆∞u JSON th√†nh <code>.json</code> r·ªìi import b·∫±ng <b>Ch·ªçn file JSON</b> ho·∫∑c d√°n v√†o v√πng paste.</p>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
