<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UMP NHN</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <div class="wrap bar">
      <div class="grow">
        <h1>Thi thá»­ 3A/3B</h1>
        <div class="muted"></div>
      </div>
      <div class="pill" id="headerInfo">ChÆ°a táº£i Ä‘á»</div>
      <button class="help-icon" id="btnHelp" title="HÆ°á»›ng dáº«n" aria-label="HÆ°á»›ng dáº«n">â“</button>
      <div class="pill">â± <span class="timer" id="headerTimer">00:00</span></div>
      <div id="authArea" class="auth-area"></div>
    </div>
  </header>

  <main class="wrap">
    <section class="card pad" id="loader">
      <div class="grid-2">
        <div>
          <h2 class="mt0">1) Import Ä‘á» (JSON)</h2>
          <div class="uploader">
            <label class="btn" for="fileInput">ğŸ“„ Chá»n file JSON</label>
            <input id="fileInput" type="file" accept="application/json" />
            <div class="drop" id="drop">KÃ©o & tháº£ file JSON vÃ o Ä‘Ã¢y</div>
            <div class="muted mt6">Hoáº·c dÃ¡n ná»™i dung JSON:</div>
            <textarea id="paste" placeholder='{"meta":{"title":"DÆ°á»£c lÃ½ â€“ Äá» 01"},"questions":[...]}'></textarea>
            <div class="btn-row">
              <button class="btn" id="btnParse">ğŸ“¥ Náº¡p tá»« vÃ¹ng dÃ¡n</button>
              <button class="btn ghost" id="btnTemplate">ğŸ“¦ Táº£i template JSON</button>
              <button class="btn ghost" id="btnSample">âœ¨ Náº¡p Ä‘á» máº«u</button>
            </div>
          </div>
        </div>
        <div>
          <h2 class="mt0">2) Thiáº¿t láº­p</h2>
          <label>Thá»i gian (phÃºt) â€” Ä‘á»ƒ trá»‘ng Ä‘á»ƒ láº¥y tá»« file
            <input type="number" id="minutes" min="1" step="1" placeholder="VD: 15" />
          </label>
          <div class="grid-2 mt8">
            <label>Trá»™n thá»© tá»± cÃ¢u há»i
              <select id="shuffleQ">
                <option value="file">Theo file</option>
                <option value="yes">LuÃ´n trá»™n</option>
                <option value="no">KhÃ´ng trá»™n</option>
              </select>
            </label>
            <label>Trá»™n thá»© tá»± Ä‘Ã¡p Ã¡n
              <select id="shuffleO">
                <option value="file">Theo file</option>
                <option value="yes">LuÃ´n trá»™n</option>
                <option value="no">KhÃ´ng trá»™n</option>
              </select>
            </label>
          </div>
          <div class="muted mt8">Format JSON cá»‘ Ä‘á»‹nh á»Ÿ popup <b>â“ HÆ°á»›ng dáº«n</b>.</div>
          <div class="btn-row mt10">
            <button class="btn" id="btnStart" disabled>ğŸš€ Báº¯t Ä‘áº§u lÃ m bÃ i</button>
            <button class="btn ghost" id="btnReset" disabled>â†º LÃ m láº¡i / Ä‘á»•i Ä‘á»</button>
          </div>
        </div>
      </div>
    </section>

    <section id="quizPanel" class="two hide">
      <div class="qview">
        <div class="card pad" id="qCard">
          <div class="qtitle" id="qTitle">CÃ¢u 1</div>
          <div class="muted" id="qMeta">â€”</div>
          <div class="qtext mt8" id="qText"></div>
          <div id="qImage" class="mt8 mb2"></div>
          <div class="opts mt8" id="qOpts"></div>
          <div class="exp" id="qExp"></div>
        </div>
      </div>

      <aside class="side">
        <div class="section">
          <div class="pad">
            <div class="bar spaced">
              <div class="pill">â± <span class="timer" id="bigTimer">00:00</span></div>
              <div class="pill hide" id="scorePill">Äiá»ƒm: 0/0 (0%)</div>
            </div>
            <div id="sideMeta" class="muted">0/0 cÃ¢u</div>
            <div class="progress" aria-label="Tiáº¿n Ä‘á»™"><span id="bar"></span></div>
            <div class="chips" id="filterGroup">
              <button class="chip active" data-filter="all">Táº¥t cáº£</button>
              <button class="chip" data-filter="answered">ÄÃ£ lÃ m</button>
              <button class="chip" data-filter="unanswered">ChÆ°a lÃ m</button>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="pad space-between">
            <b>Danh sÃ¡ch cÃ¢u & chá»n nhanh</b>
            <div class="legend"><span>Single: trÃ²n</span><span>Multi: vuÃ´ng</span></div>
          </div>
          <div class="matrix" id="qMatrix"></div>
        </div>

        <div class="section">
          <div class="pad btn-row">
            <button class="btn" id="btnPrev">â† TrÆ°á»›c</button>
            <button class="btn" id="btnNext">Tiáº¿p â†’</button>
            <button class="btn" id="btnSubmit">ğŸ“¤ Ná»™p bÃ i</button>
            <button class="btn" id="btnReview">ğŸ” Xem/áº©n giáº£i thÃ­ch</button>
            <button class="btn" id="btnShuffle">ğŸ”€ XÃ¡o láº¡i</button>
            <button class="btn" id="btnRedo">â†º LÃ m láº¡i Ä‘á»</button>
            <button class="btn" id="btnNew">ğŸ“¥ LÃ m Ä‘á» má»›i</button>
          </div>
        </div>
      </aside>
    </section>


    <section id="resultPanel" class="hide">
      <div class="card pad" id="wrongList"></div>
    </section>
  </main>


  <div id="helpModal" class="modal-backdrop hide" aria-hidden="true" role="dialog" aria-labelledby="helpTitle">
    <div class="modal card">
      <div class="modal-header">
        <b id="helpTitle">HÆ°á»›ng dáº«n sá»­ dá»¥ng & cÃ¢u lá»‡nh máº«u</b>
        <button class="btn ghost" id="helpClose">âœ–</button>
      </div>
      <div class="modal-body">
        <p class="muted">DÃ¹ng cÃ¡c máº«u lá»‡nh dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ mÃ¬nh táº¡o/chuáº©n hoÃ¡ Ä‘á» theo <b>TEMPLATE JSON cá»‘ Ä‘á»‹nh</b>.</p>
        <h3>1) TEMPLATE JSON</h3>
        <pre>{
  "meta": {"title":"TÃŠN Äá»€","time_limit_sec":900,"shuffle_questions":true,
           "shuffle_options":true,"pass_mark":0.5,"version":"1.0"},
  "questions":[{"id":"DL001","type":"single","question":"...","options":["A","B","C","D"],
                "correct":[0],"explanation":"...","tags":["..."],"difficulty":"easy","image":null}]
}</pre>
        <h3>2) CÃ¢u lá»‡nh nhanh</h3>
        <pre>HÃ£y táº¡o file JSON theo TEMPLATE:
- MÃ´n: DÆ°á»£c lÃ½ â€“ Há»‡ giao cáº£m, khÃ¡ng cholinergic
- Sá»‘ cÃ¢u: 50 (35 single, 15 multi)
- Äá»™ khÃ³: 50% easy, 40% medium, 10% hard
- time_limit_sec=2400, shuffle_questions=true, shuffle_options=true, pass_mark=0.6
- id DL001â€¦DL050; má»—i cÃ¢u cÃ³ explanation ngáº¯n; chá»‰ tráº£ JSON há»£p lá»‡.</pre>
        <pre>TÃ´i gá»­i danh sÃ¡ch Q/A (A/B/C/D + Ä‘Ã¡p Ã¡n Ä‘Ãºng). HÃ£y CHUYá»‚N thÃ nh JSON TEMPLATE.
- Single náº¿u 1 Ä‘Ã¡p Ã¡n Ä‘Ãºng; Multi náº¿u >1
- Giá»¯ nguyÃªn cÃ¢u há»i/Ä‘Ã¡p Ã¡n, explanation ngáº¯n
- id DL001â€¦; difficulty=medium náº¿u khÃ´ng suy ra</pre>
        <pre>Táº¡o Ä‘á» LUYá»†N SAI tá»« JSON cÅ© vá»›i ids: [DL002, DL015, DL021,â€¦]
- Giá»¯ ná»™i dung, Ä‘áº£o thá»© tá»± Ä‘Ã¡p Ã¡n
- title = "Luyá»‡n sai â€“ [tÃªn cÅ©]"; shuffle_options=true</pre>
        <p class="muted">LÆ°u JSON thÃ nh <code>.json</code> rá»“i import báº±ng <b>Chá»n file JSON</b> hoáº·c dÃ¡n vÃ o vÃ¹ng paste.</p>
      </div>
    </div>
  </div>

  
  <div id="authOverlay" class="auth-overlay">
    <div class="card pad auth-card">
      <h2 class="mt0">ÄÄƒng nháº­p</h2>
      <p class="muted">
        IB FB: <b>Nguyá»…n Huy Nam</b> Ä‘á»ƒ mua tÃ i khoáº£n <br>
        Hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i: <b>0908250604</b>
      </p>
      <form id="authForm">
        <label>TÃ i khoáº£n
          <input type="text" id="authUser" required placeholder="vd: namblue1412" />
        </label>
        <label>Máº­t kháº©u
          <input type="password" id="authPassword" required minlength="4" placeholder="Máº­t kháº©u" />
        </label>
        <div class="btn-row">
          <button type="button" id="btnLogin" class="btn">ÄÄƒng nháº­p</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
